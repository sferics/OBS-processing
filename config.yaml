database:
  connector: database.py
  name: obs.db
  tables: !!python/tuple [station, obs, files]
  table_ext: "sqlite"
  null_vals: [2147483647,-1e+100,"null","NULL","MISSING","XXXX",""," " ]

priorities:
  bufr:   0
  synop:  1
  metar:  2

scripts:
  getALL.py: ""
  BUFRdecode.py:
    verbose: 1
    profile: 0
    logging: 0
    min_ram: 1024
    null_vals: [2147483647,-1e+100,"null","NULL","MISSING","XXXX",""," " ]
    time_keys: !!python/tuple [year, month, day, hour, minute, timePeriod, timeSignificance]
    skip_keys: !!python/tuple [unexpandedDescriptors, timeIncrement]
    skip_status: !!python/tuple [parsed, empty, error, locked]
  SYNOPdecode.py: "" #TODO
  METARdecode.oy: "" #TODO
  getSWISS.py:    https://opendata.swiss/de/dataset/automatische-wetterstationen-aktuelle-messwerte
  getSMHI.py:     https://opendata.smhi.se/apidocs/metobs/data.html
  getMIRA.py:     "" #Dahlem additional obs TODO
  getZAMG.py:     "" #only historical data...

sources:
  DWD:
    bufr:
      ext:  bin
      url:  https://opendata.dwd.de/weather/weather_reports/synoptic/
      wget: "-nc -nd -np -r -l 1 -k -p -H"
      prio: 0
      multi_file: True
    synop:
      ext:  txt
      url:  https://opendata.dwd.de/weather/weather_reports/synoptic/international/ 
      wget: "-nc -nd -np"
      prio: 2
  KNMI: #TODO
    bufr:
      ext:  bufr
      #https://developer.dataplatform.knmi.nl/
      url:  https://api.dataplatform.knmi.nl/open-data/v1/datasets/knmi_synop_bufr/versions/1/files 
      api:  eyJvcmciOiI1ZTU1NGUxOTI3NGE5NjAwMDEyYTNlYjEiLCJpZCI6IjA2MTU4MDU3YmM2MDRkMjA5OTExN2ZjOWJkY2IyZThiIiwiaCI6Im11cm11cjEyOCJ9
      curl: "--location --request GET -G {url} -d maxKeys=10 --header Authorization: {api}"
      prio: 0
      multi_file: False
  COD: #College of DuPage
    bufr:
      ext:  bufr
      url:  https://weather.cod.edu/digatmos/BUFR/SYNOP/EDZW/
      wget: "-e robots=off -nc -nd -np -r"
      prio: 0
      multi_file: False
    synop:
      ext:  syn
      url:  https://weather.cod.edu/digatmos/syn/
      wget: "-e robots=off -nc -nd -np -r"
      prio: 2
  RMI: #Belgian meteorological service
    bufr:
      ext:  bufr
      url:  https://opendata.meteo.be/ftp/observations/synop/
      wget: "-nc -nd -np -r"
      prio: 0
      multi_file: False
  NOAA:
    bufr: 
      ext:  bin
      url:  https://tgftp.nws.noaa.gov/SL.us008001/DF.bf/DC.intl/
      wget: "-N -nd -np -r -l 1"
      prio: 0
      multi_file: True
    synop:
      ext:  txt
      url:  https://tgftp.nws.noaa.gov/SL.us008001/DF.an/DC.sflnd/DS.synop/
      wget: "-N -nd -np -r -l 1"
      prio: 2
    metar:
      ext:  txt
      url:  ["https://tgftp.nws.noaa.gov/SL.us008001/DF.an/DC.sflnd/DS.metar/", "https://tgftp.nws.noaa.gov/data/observations/metar/stations/"]
      wget: "-N -nd -np -r -l 1"
      prio: 3
  #NCAR: #TODO
  #  bufr:
  #    ext:  bufr
  #    set:  https://rda.ucar.edu/datasets/ds461.0/
  #    url:  https://data.rda.ucar.edu/ds461.0/bufr/2023/gdas.adpsfc.t00z.20230101.bufr?download=1
  #    prio: 0
  #OGIMET: #TODO
  #  bufr:
  #   ext:  [bufr, bin]
  #   url:  http://www.ogimet.com/getbufr.php?res=list&beg=201701290600&end=201701290600 
  #   wget: ""
  #   tar:  true
  #   prio: 1
  #SWISS: #TODO import from wetterturnier
  #  ext:  csv
  #  url:  https://data.geo.admin.ch/ch.meteoschweiz.messwerte-aktuell/VQHA98.csv
  #  prio: 0
  #ZAMG: #TODO only historical data (not newer than yesterday...) API: https://data.hub.zamg.ac.at/
  #  ext:  csv
  #  url:  https://dataset.api.hub.zamg.ac.at/app/frontend/station/historical/klima-v1-10min?anonymous=true 
  #  prio: 0
  #MIRA: #TODO import from wetterturnier
  #  ext:  csv
  #  url:  TODO ftp mira
  #  prio: -1
  #SMHI: TODO swedish meteorological service
  #  ext:  json
  #  url:  https://opendata.smhi.se/apidocs/metobs/data.html
  #  prio: 1

station_info: !!python/tuple
  - stationNumber
  - blockNumber
  - stationOrSiteName
  - shortStationName
  - stateIdentifier
  - nationalStationNumber
  - stationType
  - latitude
  - longitude
  - elevation
  - heightOfStationGroundAboveMeanSeaLevel
  - heightOfBarometerAboveMeanSeaLevel
  - heightOfSensorAboveLocalGroundOrDeckOfMarinePlatform
  - heightOfSensorAboveWaterSurface
  - depthBelowWaterSurface
  - depthBelowLandSurface
  - instrumentationForWindMeasurement
  - typeOfInstrumentationForEvaporationMeasurement
  - wigosIdentifierSeries
  - wigosIssuerOfIdentifier
  - wigosIdentifierSeries
  - wigosIssueNumber
  - wigosLocalIdentifierCharacter
  - mainPresentWeatherDetectingSystem
  - supplementaryPresentWeatherSensor
  - visibilityMeasurementSystem
  - cloudDetectionSystem
  - lightningDetectionSensorType
  - skyConditionAlgorithmType
  - capabilityToDetectPrecipitationPhenomena
  - capabilityToDetectOtherWeatherPhenomena
  - capabilityToDetectObscuration
  - capabilityToDiscriminateLightningStrikes
  - methodOfStateOfGroundMeasurement
  - methodOfPrecipitationMeasurement
  - methodOfLiquidContentMeasurementOfPrecipitation
  - methodOfWaterTemperatureAndOrOrSalinityMeasurement
  - methodOfEvaporationMeasurement
  - sensorIndex
